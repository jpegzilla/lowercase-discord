var $jscomp={scope:{},checkStringArgs:function(a,d,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,b,c){if(d){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in b||(b[e]={});b=b[e]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var d=c.length,f=a.length,g=Math.max(0,Math.min(b|0,c.length)),h=0;h<f&&g<d;)if(c[g++]!=a[h++])return!1;return h>=f}},"es6-impl","es3");require("dotenv").config();
var discord=require("discord.js"),$jscomp$destructuring$var0=require("./config.json"),prefix=$jscomp$destructuring$var0.prefix,handleUserCommands=require("./commands"),client=new discord.Client,https=require("https");client.once("ready",function(){console.log("ready.");setInterval(function(){return https.get("https://lowercase-discord.herokuapp.com/")},3E5)});
client.on("message",function(a){var d=/[A-HJ-Z]|I(?:[A-Za-z0-9])/gm,b=/:(?:[a-zA-Z0-9]+):/gm,c=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gm,e=a.member.user.username.toLowerCase();if("lowercase"!=e){var f=a.content,g=function(a,b){var c=b.match(d),e="";b.split("").forEach(function(a){e=0<=c.indexOf(a)?e+a.toLowerCase():e+a});return{said:"**"+a+" said:** "+e,content:e}};a.content.startsWith(prefix)&&d.test(a.content)?(c=g(e,f).content.replace(prefix,
"").trim())&&handleUserCommands(c,a):(b=b.test(a.content)?!0:!1,b||(b=a.content.match(c)?!0:!1),b||(d.test(a.content)?(c=g(e,f).said,a.channel.send(""+c),a["delete"]()):a.content.startsWith(prefix)&&(c=a.content.replace(prefix,"").trim())&&handleUserCommands(c,a)))}});client.login(process.env.TOKEN);var express=require("express"),app=express(),port=process.env.PORT||3E3;app.listen(port,function(){console.log("listening on port",port)});
