var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],e=a[Symbol.iterator];if("function"==typeof e)for(a=e.call(a);!(e=a.next()).done;)b.push(c.call(d,e.value));else for(var e=a.length,f=0;f<e;f++)b.push(c.call(d,a[f]));return b}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var g=b.length,e=a.length,f=Math.max(0,Math.min(c|0,b.length)),h=0;h<e&&f<g;)if(b[f++]!=a[h++])return!1;return h>=e}},"es6-impl","es3");require("dotenv").config();
var discord=require("discord.js"),$jscomp$destructuring$var0=require("./config.json"),prefix=$jscomp$destructuring$var0.prefix,$jscomp$destructuring$var1=require("./commands"),handleUserCommands=$jscomp$destructuring$var1.handleUserCommands,client=new discord.Client,https=require("https");client.once("ready",function(){console.log("ready.");setInterval(function(){return https.get("https://lowercase-discord.herokuapp.com/")},3E5)});
client.on("message",function(a){var b=require("./commands").correction;console.log("CORRECTION IS:",b);var c=/[A-HJ-Z]|I(?=[A-Za-z0-9])/gm,d=/:(?:[a-zA-Z0-9]+):/gm,g=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gm,e=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/gm,f=a.member.user.username.toLowerCase();if("lowercase"!=f){var h=a.content,k=0<Array.from(a.attachments).length?{files:[Array.from(a.attachments)[0][1].url]}:
null,l=function(a,b){var d=b.replace(c,"x"),f=b.match(c),e="",g=0;d.split("").forEach(function(a){"x"==a?(e+=f[g].toLowerCase(),++g):e+=a});return{said:"**"+a+" said:** "+e,content:e}};a.content.startsWith(prefix)&&c.test(a.content)&&1==b?(k=l(f,h).content.replace(prefix,"").trim())&&handleUserCommands(k,a):(d=d.test(a.content)?!0:!1,d||(d=a.content.match(g)?!0:!1),d?!e.test(a.content)&&c.test(a.content)&&e.test(a.content)&&1==b&&(b=a.content.match(g)[0],g=a.content.replace(b,""),f=l(f,g).said,a.channel.send(""+
f+b,k).then(function(){return a["delete"]()})["catch"](function(a){return console.log(a)})):c.test(a.content)&&1==b?(console.log(b),f=l(f,h).said,a.channel.send(""+f,k).then(function(){return a["delete"]()})["catch"](function(a){return console.log(a)})):a.content.startsWith(prefix)&&(k=a.content.replace(prefix,"").trim())&&handleUserCommands(k,a))}});client.login(process.env.TOKEN);var express=require("express"),app=express(),port=process.env.PORT||3E3;
app.listen(port,function(){console.log("listening on port",port)});
